<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>PredomRecCpo</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library PredomRecCpo</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">LoadPath</span> "../domain-theory".<br/>

<br/>
</div>

<div class="doc">
new in 8.4! 
</div>
<div class="code">
<span class="id" title="keyword">Set</span> <span class="id" title="var">Automatic</span> <span class="id" title="var">Coercions</span> <span class="id" title="keyword">Import</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="var">Automatic</span> <span class="id" title="var">Introduction</span>.<br/>
</div>

<div class="doc">
endof new in 8.4 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">Categories</span> <span class="id" title="var">PredomCore</span> <span class="id" title="var">NSetoid</span>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Prenex</span> <span class="id" title="var">Implicits</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">C_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">BaseCat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <span class="id" title="var">mixin_of</span> (<span class="id" title="var">O</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">M</span> : <span class="id" title="var">O</span> -&gt; <span class="id" title="var">O</span> -&gt; <span class="id" title="var">cpoType</span>) := <span class="id" title="var">Mixin</span><br/>
&nbsp;&nbsp;{ <span class="id" title="var">catm</span> :&gt; <span class="id" title="var">Category.mixin_of</span> <span class="id" title="var">M</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">terminal</span> :&gt; <span class="id" title="var">CatTerminal.mixin_of</span> (<span class="id" title="var">Category.Pack</span> <span class="id" title="var">catm</span> <span class="id" title="var">O</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">comp</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">O</span>, <span class="id" title="var">M</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> * <span class="id" title="var">M</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> =-&gt; <span class="id" title="var">M</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">comp_comp</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>, <span class="id" title="var">comp</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> (<span class="id" title="var">m</span>,<span class="id" title="var">m'</span>) =-= <span class="id" title="var">Category.tcomp</span> <span class="id" title="var">catm</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span><br/>
&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <span class="id" title="var">class_of</span> := <span class="id" title="var">mixin_of</span> (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">base2</span> <span class="id" title="var">T</span> (<span class="id" title="var">M</span> : <span class="id" title="var">T</span> -&gt; <span class="id" title="var">T</span> -&gt; <span class="id" title="var">cpoType</span>) (<span class="id" title="var">c</span>:<span class="id" title="var">class_of</span> <span class="id" title="var">M</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CatTerminal.Class</span> <span class="id" title="var">c</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <span class="id" title="var">cat</span> := <span class="id" title="var">Pack</span> { <span class="id" title="var">object</span> :&gt; <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">morph</span> : <span class="id" title="var">object</span> -&gt; <span class="id" title="var">object</span> -&gt; <span class="id" title="var">cppoType</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">_</span> : <span class="id" title="var">class_of</span> <span class="id" title="var">morph</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">_</span> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">class</span> <span class="id" title="var">cT</span> := <span class="id" title="keyword">let</span>: <span class="id" title="var">Pack</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> := <span class="id" title="var">cT</span> <span class="id" title="keyword">return</span> <span class="id" title="var">class_of</span> (@<span class="id" title="var">morph</span> <span class="id" title="var">cT</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">unpack</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">K</span>:<span class="id" title="keyword">forall</span> <span class="id" title="var">O</span> (<span class="id" title="var">M</span>:<span class="id" title="var">O</span> -&gt; <span class="id" title="var">O</span> -&gt; <span class="id" title="var">cpoType</span>) (<span class="id" title="var">c</span>:<span class="id" title="var">class_of</span> <span class="id" title="var">M</span>), <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">k</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">O</span> (<span class="id" title="var">M</span>: <span class="id" title="var">O</span> -&gt; <span class="id" title="var">O</span> -&gt; <span class="id" title="var">cpoType</span>) (<span class="id" title="var">c</span> : <span class="id" title="var">class_of</span> <span class="id" title="var">M</span>), <span class="id" title="var">K</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>) (<span class="id" title="var">cT</span>:<span class="id" title="var">cat</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span>: <span class="id" title="var">Pack</span> <span class="id" title="var">_</span> <span class="id" title="var">M</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span> := <span class="id" title="var">cT</span> <span class="id" title="keyword">return</span> @<span class="id" title="var">K</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">class</span> <span class="id" title="var">cT</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">k</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">repack</span> <span class="id" title="var">cT</span> : <span class="id" title="var">_</span> -&gt; <span class="id" title="keyword">Type</span> -&gt; <span class="id" title="var">cat</span> := <span class="id" title="keyword">let</span> <span class="id" title="var">k</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> <span class="id" title="var">c</span> <span class="id" title="var">p</span> := <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="tactic">in</span> <span class="id" title="var">unpack</span> <span class="id" title="var">k</span> <span class="id" title="var">cT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pack</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> <span class="id" title="var">c</span> := @<span class="id" title="var">Pack</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> <span class="id" title="var">c</span> <span class="id" title="var">T</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">terminalCat</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cat</span>) : <span class="id" title="var">terminalCat</span> := <span class="id" title="var">CatTerminal.Pack</span> (<span class="id" title="var">class</span> <span class="id" title="var">cT</span>) <span class="id" title="var">cT</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">catType</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cat</span>) : <span class="id" title="var">catType</span> := <span class="id" title="var">Category.Pack</span> (<span class="id" title="var">class</span> <span class="id" title="var">cT</span>) <span class="id" title="var">cT</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ordType</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>:<span class="id" title="var">cT</span>) : <span class="id" title="var">ordType</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PreOrd.Pack</span> (<span class="id" title="var">CPO.class</span> (<span class="id" title="var">morph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)) (<span class="id" title="var">cT</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">cpoType</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>:<span class="id" title="var">cT</span>) : <span class="id" title="var">cpoType</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CPO.Pack</span> (<span class="id" title="var">CPO.class</span> (<span class="id" title="var">morph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)) (<span class="id" title="var">cT</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">cppoType</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>:<span class="id" title="var">cT</span>) : <span class="id" title="var">cppoType</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CPPO.Pack</span> (<span class="id" title="var">CPPO.class</span> (<span class="id" title="var">morph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)) (<span class="id" title="var">cT</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointedType</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>:<span class="id" title="var">cT</span>) : <span class="id" title="var">pointedType</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Pointed.Pack</span> (<span class="id" title="var">CPPO.class</span> (<span class="id" title="var">morph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)) (<span class="id" title="var">cT</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">BaseCat</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">BaseCat.terminalCat</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">BaseCat.catType</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">BaseCat.ordType</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">BaseCat.cpoType</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">BaseCat.pointedType</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">cpoMorph</span>     := <span class="id" title="var">BaseCat.cpoType</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">cpoECat</span>      := <span class="id" title="var">BaseCat.cat</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">CpoECatMixin</span> := <span class="id" title="var">BaseCat.Mixin</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">CpoECatType</span>  := <span class="id" title="var">BaseCat.pack</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">getmorph</span> (<span class="id" title="var">C</span>:<span class="id" title="var">cpoECat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>:<span class="id" title="var">CPPO.cpoType</span> (@<span class="id" title="var">BaseCat.cppoType</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)) : <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">getmorph</span> : <span class="id" title="var">cpoECat</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ccomp</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cpoECat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">cT</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">cpoMorph</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> * <span class="id" title="var">cpoMorph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">BaseCat.comp</span> (<span class="id" title="var">BaseCat.class</span> <span class="id" title="var">cT</span>) <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ccomp_eq</span> (<span class="id" title="var">cT</span>:<span class="id" title="var">cpoECat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">cT</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">cT</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">cT</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">ccomp</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> (<span class="id" title="var">f</span>,<span class="id" title="var">f'</span>) =-= <span class="id" title="var">f</span> &lt;&lt; <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Category.comp</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">ccomp</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">case</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">O</span> <span class="id" title="var">M</span>. <span class="id" title="tactic">case</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">T</span> <span class="id" title="var">comp</span> <span class="id" title="var">ce</span> <span class="id" title="var">T'</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">ce</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Parametric</span> <span class="id" title="var">Morphism</span> (<span class="id" title="var">M</span>:<span class="id" title="var">cpoECat</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>:<span class="id" title="var">M</span>) : (@<span class="id" title="var">Category.comp</span> <span class="id" title="var">M</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">signature</span> (@<span class="id" title="var">Ole</span> (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>)) ++&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">Ole</span> (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)) ++&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">Ole</span> (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">comp_le_compat</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">l</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> <span class="id" title="var">l'</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">e</span>:= (<span class="id" title="var">ccomp_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>). <span class="id" title="var">have</span> <span class="id" title="var">e'</span>:=<span class="id" title="var">ccomp_eq</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e'</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="var">fmonotonic</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Msolution</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">M</span>:<span class="id" title="var">cpoECat</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">C_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">S_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">BiFunctor</span> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mk_functor</span><br/>
{ <span class="id" title="var">ob</span> : <span class="id" title="var">M</span> -&gt; <span class="id" title="var">M</span> -&gt; <span class="id" title="var">M</span> ;<br/>
&nbsp;&nbsp;<span class="id" title="var">morph</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">T0</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span> : <span class="id" title="var">M</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cpoMorph</span> <span class="id" title="var">T1</span> <span class="id" title="var">T0</span>) * (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span>) =-&gt; (<span class="id" title="var">cpoMorph</span> (<span class="id" title="var">ob</span> <span class="id" title="var">T0</span> <span class="id" title="var">T2</span>) (<span class="id" title="var">ob</span> <span class="id" title="var">T1</span> <span class="id" title="var">T3</span>)) ;<br/>
&nbsp;&nbsp;<span class="id" title="var">morph_comp</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span> <span class="id" title="var">T4</span> <span class="id" title="var">T5</span> (<span class="id" title="var">f</span>:<span class="id" title="var">M</span> <span class="id" title="var">T4</span> <span class="id" title="var">T1</span>) (<span class="id" title="var">g</span>:<span class="id" title="var">M</span> <span class="id" title="var">T3</span> <span class="id" title="var">T5</span>) (<span class="id" title="var">h</span>:<span class="id" title="var">M</span> <span class="id" title="var">T1</span> <span class="id" title="var">T0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">k</span>:<span class="id" title="var">M</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span>), <span class="id" title="var">getmorph</span> (<span class="id" title="var">morph</span> <span class="id" title="var">T1</span> <span class="id" title="var">T4</span> <span class="id" title="var">T3</span> <span class="id" title="var">T5</span> (<span class="id" title="var">f</span>,<span class="id" title="var">g</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">morph</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span> (<span class="id" title="var">h</span>, <span class="id" title="var">k</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=-=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">morph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">h</span> &lt;&lt; <span class="id" title="var">f</span>, <span class="id" title="var">g</span> &lt;&lt; <span class="id" title="var">k</span>) ;<br/>
&nbsp;&nbsp;<span class="id" title="var">morph_id</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span>, <span class="id" title="var">morph</span> <span class="id" title="var">T0</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span> <span class="id" title="var">T1</span> (<span class="id" title="var">Id</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">Id</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =-= (<span class="id" title="var">Id</span> : <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">eppair</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span> (<span class="id" title="var">f</span>:<span class="id" title="var">M</span> <span class="id" title="var">T0</span> <span class="id" title="var">T1</span>) (<span class="id" title="var">g</span>:<span class="id" title="var">M</span> <span class="id" title="var">T1</span> <span class="id" title="var">T0</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">g</span> &lt;&lt; <span class="id" title="var">f</span> =-= <span class="id" title="var">Id</span> /\ <span class="id" title="var">f</span> &lt;&lt; <span class="id" title="var">g</span> &lt;= @<span class="id" title="var">Category.id</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">Tower</span> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mk_tower</span><br/>
{ <span class="id" title="var">tobjects</span> : <span class="id" title="var">nat</span> -&gt; <span class="id" title="var">M</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">tmorphisms</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, (<span class="id" title="var">tobjects</span> (<span class="id" title="var">S</span> <span class="id" title="var">i</span>)) =-&gt; (<span class="id" title="var">tobjects</span> <span class="id" title="var">i</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">tmorphismsI</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, (<span class="id" title="var">tobjects</span> <span class="id" title="var">i</span>) =-&gt; (<span class="id" title="var">tobjects</span> (<span class="id" title="var">S</span> <span class="id" title="var">i</span>));<br/>
&nbsp;&nbsp;<span class="id" title="var">teppair</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">eppair</span> (<span class="id" title="var">tmorphismsI</span> <span class="id" title="var">i</span>) (<span class="id" title="var">tmorphisms</span> <span class="id" title="var">i</span>)<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">Cone</span> (<span class="id" title="var">To</span>:<span class="id" title="var">Tower</span>) : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mk_basecone</span><br/>
{ <span class="id" title="var">tcone</span> :&gt;  <span class="id" title="var">M</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mcone</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">tcone</span> =-&gt; (<span class="id" title="var">tobjects</span> <span class="id" title="var">To</span> <span class="id" title="var">i</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">mconeCom</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">tmorphisms</span> <span class="id" title="var">To</span> <span class="id" title="var">i</span> &lt;&lt; <span class="id" title="var">mcone</span> (<span class="id" title="var">S</span> <span class="id" title="var">i</span>) =-= <span class="id" title="var">mcone</span> <span class="id" title="var">i</span><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">CoCone</span> (<span class="id" title="var">To</span>:<span class="id" title="var">Tower</span>) : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mk_basecocone</span><br/>
{ <span class="id" title="var">tcocone</span> :&gt; <span class="id" title="var">M</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mcocone</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, (<span class="id" title="var">tobjects</span> <span class="id" title="var">To</span> <span class="id" title="var">i</span>) =-&gt; <span class="id" title="var">tcocone</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mcoconeCom</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <span class="id" title="var">mcocone</span> (<span class="id" title="var">S</span> <span class="id" title="var">i</span>) &lt;&lt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">To</span> <span class="id" title="var">i</span> =-= <span class="id" title="var">mcocone</span> <span class="id" title="var">i</span><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">CoLimit</span> (<span class="id" title="var">To</span>:<span class="id" title="var">Tower</span>) : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mk_basecolimit</span><br/>
{ <span class="id" title="var">lcocone</span> :&gt; <span class="id" title="var">CoCone</span> <span class="id" title="var">To</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">colimitExists</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">To</span>), (<span class="id" title="var">tcocone</span> <span class="id" title="var">lcocone</span>) =-&gt; (<span class="id" title="var">tcocone</span> <span class="id" title="var">A</span>) ;<br/>
&nbsp;&nbsp;<span class="id" title="var">colimitCom</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">To</span>), <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">mcocone</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=-=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">colimitExists</span> <span class="id" title="var">A</span> &lt;&lt; <span class="id" title="var">mcocone</span> <span class="id" title="var">lcocone</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">colimitUnique</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">To</span>) (<span class="id" title="var">h</span>: (<span class="id" title="var">tcocone</span> <span class="id" title="var">lcocone</span>) =-&gt; (<span class="id" title="var">tcocone</span> <span class="id" title="var">A</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span>:<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">mcocone</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> =-= <span class="id" title="var">h</span> &lt;&lt; <span class="id" title="var">mcocone</span> <span class="id" title="var">lcocone</span> <span class="id" title="var">n</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">h</span> =-= <span class="id" title="var">colimitExists</span> <span class="id" title="var">A</span><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <span class="id" title="var">Limit</span> (<span class="id" title="var">To</span>:<span class="id" title="var">Tower</span>) : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mk_baselimit</span><br/>
{<span class="id" title="var">lcone</span> :&gt; <span class="id" title="var">Cone</span> <span class="id" title="var">To</span>;<br/>
&nbsp;<span class="id" title="var">limitExists</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="var">Cone</span> <span class="id" title="var">To</span>), (<span class="id" title="var">tcone</span> <span class="id" title="var">A</span>) =-&gt; (<span class="id" title="var">tcone</span> <span class="id" title="var">lcone</span>);<br/>
&nbsp;<span class="id" title="var">limitCom</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="var">Cone</span> <span class="id" title="var">To</span>), <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">mcone</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> =-= <span class="id" title="var">mcone</span> <span class="id" title="var">lcone</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">limitExists</span> <span class="id" title="var">A</span>;<br/>
&nbsp;<span class="id" title="var">limitUnique</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span>:<span class="id" title="var">Cone</span> <span class="id" title="var">To</span>) (<span class="id" title="var">h</span>: (<span class="id" title="var">tcone</span> <span class="id" title="var">A</span>) =-&gt; (<span class="id" title="var">tcone</span> <span class="id" title="var">lcone</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span>:<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">mcone</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> =-= <span class="id" title="var">mcone</span> <span class="id" title="var">lcone</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">h</span>), <span class="id" title="var">h</span> =-= <span class="id" title="var">limitExists</span> <span class="id" title="var">A</span><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">L</span>:<span class="id" title="keyword">forall</span> <span class="id" title="var">T</span>:<span class="id" title="var">Tower</span>, <span class="id" title="var">Limit</span> <span class="id" title="var">T</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">RecursiveDomains</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">F</span> : <span class="id" title="var">BiFunctor</span>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Parametric</span> <span class="id" title="var">Morphism</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">x</span>: <span class="id" title="var">Y</span> =-&gt; <span class="id" title="var">X</span>) (<span class="id" title="var">y</span>: <span class="id" title="var">Z</span> =-&gt; <span class="id" title="var">W</span>) =&gt; @<span class="id" title="var">morph</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> (<span class="id" title="var">pair</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">signature</span> (@<span class="id" title="var">tset_eq</span> <span class="id" title="var">_</span>) ==&gt; (@<span class="id" title="var">tset_eq</span> <span class="id" title="var">_</span>) ==&gt; (@<span class="id" title="var">tset_eq</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">morph_eq_compat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">e</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="var">fmon_stable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">split</span> ;<span class="id" title="tactic">case</span>: <span class="id" title="var">e</span> ; <span class="id" title="tactic">case</span>: <span class="id" title="var">e'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">BiFuncRtoR</span>: <span class="id" title="keyword">forall</span> (<span class="id" title="var">T0</span> <span class="id" title="var">T1</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span>: <span class="id" title="var">T0</span> =-&gt; <span class="id" title="var">T1</span>) (<span class="id" title="var">g</span>: <span class="id" title="var">T1</span> =-&gt; <span class="id" title="var">T0</span>), <span class="id" title="var">eppair</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eppair</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">g</span>,<span class="id" title="var">f</span>)) (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">f</span>,<span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> <span class="id" title="var">e</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_id</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_comp</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">pair_le_compat</span> <span class="id" title="var">r</span> <span class="id" title="var">r</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_id</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Tower</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">DTower</span> : <span class="id" title="var">Tower</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : (<span class="id" title="var">n</span> &lt; <span class="id" title="var">m</span>) + (<span class="id" title="var">m</span> = <span class="id" title="var">n</span>) + (<span class="id" title="var">m</span> &lt; <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">ltngtP</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) =&gt; <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">leqI</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> : (<span class="id" title="var">m</span> &lt;= <span class="id" title="var">n</span>)%<span class="id" title="var">N</span> = <span class="id" title="var">false</span> -&gt; <span class="id" title="var">n</span> &lt;= <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">I</span>. <span class="id" title="var">have</span> <span class="id" title="var">t</span>:=(<span class="id" title="var">leq_total</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">I</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">t</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lt_subK</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">m</span> &lt; <span class="id" title="var">n</span> -&gt; <span class="id" title="var">n</span> = (<span class="id" title="var">n</span> - <span class="id" title="var">m</span> + <span class="id" title="var">m</span>)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">sym_eq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subnK</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:= (<span class="id" title="var">leqnSn</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">leq_trans</span> <span class="id" title="var">x</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Diter_coercion</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> = <span class="id" title="var">m</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">M</span> (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>) (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <span class="id" title="var">eq_rect_r</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span> =&gt; <span class="id" title="var">M</span> (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>) <span class="id" title="var">_</span>) <span class="id" title="var">Id</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">Projection_nm</span> <span class="id" title="var">m</span> (<span class="id" title="var">n</span>:<span class="id" title="var">nat</span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">n</span>+<span class="id" title="var">m</span>)) =-&gt; (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>) :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">O</span> =&gt; <span class="id" title="var">Id</span><br/>
| <span class="id" title="var">S</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">Projection_nm</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">n</span>+<span class="id" title="var">m</span>)%<span class="id" title="var">N</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">Injection_nm</span> <span class="id" title="var">m</span> (<span class="id" title="var">n</span>:<span class="id" title="var">nat</span>) : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>) =-&gt; (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">n</span>+<span class="id" title="var">m</span>)) :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">O</span> =&gt; <span class="id" title="var">Id</span><br/>
| <span class="id" title="var">S</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">n</span>+<span class="id" title="var">m</span>) &lt;&lt; <span class="id" title="var">Injection_nm</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>) =-&gt; (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>) :=<br/>
<span class="id" title="keyword">match</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">inl</span> (<span class="id" title="var">inl</span> <span class="id" title="var">ee</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Projection_nm</span> <span class="id" title="var">m</span> (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>)%<span class="id" title="var">N</span>) &lt;&lt; (<span class="id" title="var">Diter_coercion</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">ee</span>))<br/>
| <span class="id" title="var">inl</span> (<span class="id" title="var">inr</span> <span class="id" title="var">ee</span>) =&gt; <span class="id" title="var">Diter_coercion</span> <span class="id" title="var">ee</span><br/>
| <span class="id" title="var">inr</span> <span class="id" title="var">ee</span> =&gt; <span class="id" title="var">Diter_coercion</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">ee</span>)) &lt;&lt; <span class="id" title="var">Injection_nm</span> <span class="id" title="var">n</span> (<span class="id" title="var">m</span> - <span class="id" title="var">n</span>)<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Diter_coercion_simpl</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> (<span class="id" title="var">Eq</span>:<span class="id" title="var">n</span> = <span class="id" title="var">n</span>), <span class="id" title="var">Diter_coercion</span> <span class="id" title="var">Eq</span> = <span class="id" title="var">Id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Eq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">Eq</span> (<span class="id" title="var">refl_equal</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Proj_left_comp</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">k</span> <span class="id" title="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Projection_nm</span> <span class="id" title="var">m</span> (<span class="id" title="var">S</span> <span class="id" title="var">k</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=-= <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span> &lt;&lt; <span class="id" title="var">Projection_nm</span> (<span class="id" title="var">S</span> <span class="id" title="var">m</span>) <span class="id" title="var">k</span> &lt;&lt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Diter_coercion</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">addnS</span> <span class="id" title="var">k</span> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">IH</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">P</span>:=(<span class="id" title="var">sym_eq</span> (<span class="id" title="var">addnS</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">addnS</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>)) <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Q</span>:=(<span class="id" title="var">sym_eq</span> (<span class="id" title="var">addnS</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">addnS</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">m</span>)) <span class="id" title="var">Q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">addn</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">addn</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Inject_right_comp</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">k</span> <span class="id" title="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Injection_nm</span> <span class="id" title="var">m</span> (<span class="id" title="var">S</span> <span class="id" title="var">k</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=-=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Diter_coercion</span> (<span class="id" title="var">addnS</span> <span class="id" title="var">k</span> <span class="id" title="var">m</span>) &lt;&lt; <span class="id" title="var">Injection_nm</span> (<span class="id" title="var">S</span> <span class="id" title="var">m</span>) <span class="id" title="var">k</span> &lt;&lt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">IH</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">IH</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">P</span>:= (<span class="id" title="var">addnS</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">m</span>). <span class="id" title="var">have</span> <span class="id" title="var">Q</span>:=(<span class="id" title="var">addnS</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>). <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">_</span> <span class="id" title="var">Q</span>). <span class="id" title="tactic">move</span>: <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">addn</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">addn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">P</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Diter_coercion_comp</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> (<span class="id" title="var">Eq1</span>:<span class="id" title="var">x</span> = <span class="id" title="var">y</span>) (<span class="id" title="var">Eq2</span> : <span class="id" title="var">y</span> = <span class="id" title="var">z</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Diter_coercion</span> <span class="id" title="var">Eq2</span> &lt;&lt; <span class="id" title="var">Diter_coercion</span> <span class="id" title="var">Eq1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;=-=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Diter_coercion</span> (<span class="id" title="var">trans_equal</span> <span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">Eq1</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">Eq1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">Eq1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Eq1</span> <span class="id" title="var">Eq2</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">Eq2</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eq2</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Eq2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Eq2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Diter_coercion_eq</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> (<span class="id" title="var">e</span> <span class="id" title="var">e'</span>: <span class="id" title="var">n</span> = <span class="id" title="var">m</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">Diter_coercion</span> <span class="id" title="var">e</span> =-= <span class="id" title="var">Diter_coercion</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lt_gt_dec_lt</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">n</span> &lt; <span class="id" title="var">m</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>, <span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> = <span class="id" title="var">inl</span> <span class="id" title="var">_</span> (<span class="id" title="var">inl</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f</span>. <span class="id" title="var">have</span> <span class="id" title="var">a</span>:=<span class="id" title="var">leq_trans</span> (<span class="id" title="var">leqnSn</span> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>. <span class="id" title="var">have</span> <span class="id" title="var">Ff</span>:=<span class="id" title="var">leq_ltn_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ff</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lt_gt_dec_gt</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">m</span> &lt; <span class="id" title="var">n</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">e</span>, <span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> = (<span class="id" title="var">inr</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>. <span class="id" title="var">have</span> <span class="id" title="var">a</span>:=<span class="id" title="var">leq_trans</span> (<span class="id" title="var">leqnSn</span> <span class="id" title="var">_</span>) <span class="id" title="var">i</span>. <span class="id" title="var">have</span> <span class="id" title="var">Ff</span>:=<span class="id" title="var">leq_ltn_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ff</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lt_gt_dec_eq</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> : <span class="id" title="var">m</span> = <span class="id" title="var">n</span>, <span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> = (<span class="id" title="var">inl</span> <span class="id" title="var">_</span> (<span class="id" title="var">inr</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>. <span class="id" title="var">have</span> <span class="id" title="var">f</span>:=<span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">e</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">_</span>. <span class="id" title="var">have</span> <span class="id" title="var">f</span>:=<span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">t_nmProjection</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>, <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> =-= <span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span> &lt;&lt; <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> (<span class="id" title="var">S</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">t_nm</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">m</span>.+1 <span class="id" title="var">n</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">l</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">X</span>:=<span class="id" title="var">Proj_left_comp</span> (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>.+1) <span class="id" title="var">m</span>. <span class="id" title="var">have</span> <span class="id" title="var">XX</span>:= <span class="id" title="var">addnS</span> (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>.+1) <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Y</span>:=<span class="id" title="var">comp_eq_compat</span> <span class="id" title="var">X</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">Diter_coercion</span> <span class="id" title="var">XX</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>). <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">Diter_coercion_comp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">P</span>:=(<span class="id" title="var">trans_equal</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">l</span>) <span class="id" title="var">XX</span>). <span class="id" title="var">have</span> <span class="id" title="var">Q</span>:=(<span class="id" title="var">lt_subK</span> <span class="id" title="var">l'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span>). <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">_</span> <span class="id" title="var">Q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">P</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:= (<span class="id" title="var">subnSK</span> <span class="id" title="var">l'</span>). <span class="id" title="var">have</span> <span class="id" title="var">ee</span>:(<span class="id" title="var">n</span> - <span class="id" title="var">m</span>).-1 = (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>.+1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ee</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">ee</span> <span class="id" title="var">e</span> <span class="id" title="var">P</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:0 &lt; <span class="id" title="var">n</span> - <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltn_subRL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">addn0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">P</span>. <span class="id" title="var">have</span> <span class="id" title="var">PP</span>:<span class="id" title="var">n</span> = ((<span class="id" title="var">n</span> - <span class="id" title="var">m</span>).-1.+1 + <span class="id" title="var">m</span>)%<span class="id" title="var">N</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ltn_predK</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">P</span> <span class="id" title="var">PP</span>). <span class="id" title="tactic">move</span>: <span class="id" title="var">PP</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ltn_predK</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">PP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">Q</span> <span class="id" title="var">PP</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">n</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">i</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:= <span class="id" title="var">subSnn</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a</span>:=(<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">i</span>) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">e</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="var">have</span> <span class="id" title="var">Ff</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ff</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">n</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lt_gt_dec_gt</span> (<span class="id" title="var">leqnn</span> (<span class="id" title="var">S</span> <span class="id" title="var">m</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>:=<span class="id" title="var">subSnn</span> <span class="id" title="var">m</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:=(<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">x</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>))). <span class="id" title="tactic">move</span>: <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">addn</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span>. <span class="id" title="var">have</span> <span class="id" title="var">l</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">i</span> (<span class="id" title="var">leqnSn</span> <span class="id" title="var">m</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lt_gt_dec_gt</span> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x</span>:=(<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">n</span>) <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">n</span>) <span class="id" title="var">p</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">comp_eq_compat</span> <span class="id" title="var">_</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">Injection_nm</span> <span class="id" title="var">n</span> (<span class="id" title="var">m</span>-<span class="id" title="var">n</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">y</span>:=(<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>) (<span class="id" title="var">m</span>:=<span class="id" title="var">n</span>) <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>) (<span class="id" title="var">m</span>:=<span class="id" title="var">n</span>) <span class="id" title="var">i</span>)) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a</span>:=(<span class="id" title="var">trans_eq</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">addSn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tset_trans</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span>:=(<span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span> &lt;&lt; <span class="id" title="var">Diter_coercion</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">m</span> - <span class="id" title="var">n</span> + <span class="id" title="var">n</span>)) ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">y</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">y</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">t_nn_ID</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span> =-= <span class="id" title="var">Id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">t_nm</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lt_gt_dec_eq</span> (<span class="id" title="var">refl_equal</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">t_nmProjection2</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : (<span class="id" title="var">m</span> &lt;= <span class="id" title="var">n</span>) % <span class="id" title="var">nat</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t_nm</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>) <span class="id" title="var">m</span> =-= (<span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) &lt;&lt; <span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">nm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">n</span> - <span class="id" title="var">m</span> = <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">exists</span> (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>) ; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">X</span>]. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">X</span> <span class="id" title="var">nm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">E</span> <span class="id" title="var">EE</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:=<span class="id" title="var">eqn_leq</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">have</span> <span class="id" title="var">l</span>:(<span class="id" title="var">n</span> &lt;= <span class="id" title="var">m</span>)%<span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">leq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">have</span> <span class="id" title="var">ee</span>:=<span class="id" title="var">eqP</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nmProjection</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">nm</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">case</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">ll</span>:<span class="id" title="var">n</span>.+1 - <span class="id" title="var">m</span> &gt; 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subn_gt0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>). <span class="id" title="var">have</span> <span class="id" title="var">ee</span>: <span class="id" title="var">n</span> - <span class="id" title="var">m</span> = <span class="id" title="var">nm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">IH</span> <span class="id" title="var">ee</span> <span class="id" title="var">ll</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>. <span class="id" title="var">have</span> <span class="id" title="var">l0</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">ll</span> (<span class="id" title="var">leqnSn</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lt_gt_dec_lt</span> <span class="id" title="var">l0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">t_nm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">p'</span> <span class="id" title="var">_</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:=(<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>.+2) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>.+2) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">x</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:<span class="id" title="var">n</span>.+2 - <span class="id" title="var">m</span> = (<span class="id" title="var">n</span>-<span class="id" title="var">m</span>).+2. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">Projection_nm</span> <span class="id" title="var">m</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x'</span>:=(<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p'</span>) <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x1</span>:((<span class="id" title="var">n</span> - <span class="id" title="var">m</span>).+2 + <span class="id" title="var">m</span>)%<span class="id" title="var">N</span> = ((<span class="id" title="var">n</span> - <span class="id" title="var">m</span>) + <span class="id" title="var">m</span>).+2 <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x2</span>:=<span class="id" title="var">trans_eq</span> <span class="id" title="var">x</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tset_trans</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span>:=<span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">n</span> - <span class="id" title="var">m</span> + <span class="id" title="var">m</span>) &lt;&lt; (<span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">S</span>(<span class="id" title="var">n</span> - <span class="id" title="var">m</span> + <span class="id" title="var">m</span>)) &lt;&lt; <span class="id" title="var">Diter_coercion</span> <span class="id" title="var">x2</span>)) ; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">x2</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">x2</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">x'</span> ; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">x'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x'</span> <span class="id" title="var">x</span> <span class="id" title="var">x1</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e'</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> <span class="id" title="var">ll</span> <span class="id" title="var">e</span> <span class="id" title="var">l0</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">p</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x</span>:=(<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+2) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>:(<span class="id" title="var">m</span>.+2 - <span class="id" title="var">m</span>) = (<span class="id" title="var">m</span> - <span class="id" title="var">m</span>).+2. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+2) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>) <span class="id" title="var">x</span>). <span class="id" title="tactic">generalize</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subnn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">xx</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f</span>. <span class="id" title="var">have</span> <span class="id" title="var">lx</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">f</span> <span class="id" title="var">ll</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lx</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">t_nmEmbedding</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>, <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> =-= (<span class="id" title="var">t_nm</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>) <span class="id" title="var">i</span>) &lt;&lt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">t_nm</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span>. <span class="id" title="var">have</span> <span class="id" title="var">l</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">i</span> (<span class="id" title="var">leqnSn</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lt_gt_dec_lt</span> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">A</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x</span>:=((<span class="id" title="var">lt_subK</span> <span class="id" title="var">p</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> ((<span class="id" title="var">lt_subK</span> <span class="id" title="var">p</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">Projection_nm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">_</span>). <span class="id" title="var">have</span> <span class="id" title="var">y</span>:=((<span class="id" title="var">lt_subK</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> ((<span class="id" title="var">lt_subK</span> <span class="id" title="var">i</span>)) <span class="id" title="var">y</span>). <span class="id" title="var">have</span> <span class="id" title="var">a</span>:=(<span class="id" title="var">trans_eq</span> <span class="id" title="var">x</span> ((<span class="id" title="var">addSn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tset_trans</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span>:=<span class="id" title="var">tmorphisms</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">n</span> - <span class="id" title="var">m</span> + <span class="id" title="var">m</span>) &lt;&lt; (<span class="id" title="var">Diter_coercion</span> <span class="id" title="var">a</span> &lt;&lt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>)) ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">y</span>. <span class="id" title="tactic">clear</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">y</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>)).<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">n</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lt_gt_dec_lt</span> (<span class="id" title="var">leqnn</span> (<span class="id" title="var">S</span> <span class="id" title="var">m</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>:=<span class="id" title="var">subSnn</span> <span class="id" title="var">m</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:=((<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">x</span> ((<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+1) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>))). <span class="id" title="tactic">move</span>: <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span>)).<br/>
- <span class="id" title="tactic">case</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>.+1) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="var">have</span> <span class="id" title="var">Ff</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ff</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">i</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:= <span class="id" title="var">subSnn</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a</span>:=(<span class="id" title="var">lt_subK</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">i</span>) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">sym_eq</span> <span class="id" title="var">a</span>) <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">l</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="var">have</span> <span class="id" title="var">X</span>:=<span class="id" title="var">Inject_right_comp</span> (<span class="id" title="var">m</span> - <span class="id" title="var">n</span>.+1) <span class="id" title="var">n</span>. <span class="id" title="var">have</span> <span class="id" title="var">XX</span>:= <span class="id" title="var">sym_eq</span> (<span class="id" title="var">addnS</span> (<span class="id" title="var">m</span> - <span class="id" title="var">n</span>.+1) <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Y</span>:=<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">Diter_coercion</span> <span class="id" title="var">XX</span>)) <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">Injection_nm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">Diter_coercion_comp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Diter_coercion_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>:=(<span class="id" title="var">trans_equal</span> <span class="id" title="var">XX</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">l</span>))). <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">_</span> <span class="id" title="var">ee</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">XX</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:<span class="id" title="var">m</span> - <span class="id" title="var">n</span>.+1 = (<span class="id" title="var">m</span> - <span class="id" title="var">n</span>).-1. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">subnSK</span> <span class="id" title="var">l'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">ee</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">e</span>. <span class="id" title="var">have</span> <span class="id" title="var">ll</span>:0 &lt; (<span class="id" title="var">m</span> - <span class="id" title="var">n</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltn_subRL</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">addn0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">PP</span>:((<span class="id" title="var">m</span> - <span class="id" title="var">n</span>).-1.+1 + <span class="id" title="var">n</span>)%<span class="id" title="var">N</span> = <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">ltn_predK</span> <span class="id" title="var">ll</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">l'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">Q</span> <span class="id" title="var">PP</span>). <span class="id" title="tactic">move</span>: <span class="id" title="var">PP</span>. <span class="id" title="var">have</span> <span class="id" title="var">P</span>:=(<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">l'</span>)). <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">P</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">P</span>. <span class="id" title="tactic">rewrite</span> -{1 2 3 4} (<span class="id" title="var">ltn_predK</span> <span class="id" title="var">ll</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">P</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">t_nmEmbedding2</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>, (<span class="id" title="var">n</span> &lt;= <span class="id" title="var">m</span>) % <span class="id" title="var">nat</span> -&gt; <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> (<span class="id" title="var">S</span> <span class="id" title="var">m</span>) =-= <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span> &lt;&lt; <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">nm</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">m</span> - <span class="id" title="var">n</span> = <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">refl_equal</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">X</span>]. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">X</span> <span class="id" title="var">nm</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">E</span> <span class="id" title="var">EE</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:=<span class="id" title="var">eqn_leq</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">have</span> <span class="id" title="var">l</span>:(<span class="id" title="var">m</span> &lt;= <span class="id" title="var">n</span>)%<span class="id" title="var">N</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">leq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="var">have</span> <span class="id" title="var">ee</span>:=<span class="id" title="var">eqP</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nmEmbedding</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">nm</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">case</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">ll</span>:<span class="id" title="var">m</span>.+1 - <span class="id" title="var">n</span> &gt; 0 <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subn_gt0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ll</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>). <span class="id" title="var">have</span> <span class="id" title="var">ee</span>:<span class="id" title="var">m</span> - <span class="id" title="var">n</span> = <span class="id" title="var">nm</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH</span> <span class="id" title="var">ee</span> <span class="id" title="var">ll</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>. <span class="id" title="var">have</span> <span class="id" title="var">l0</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">ll</span> (<span class="id" title="var">leqnSn</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lt_gt_dec_gt</span> <span class="id" title="var">l0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">A</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">t_nm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">lt_gt_dec</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f</span>. <span class="id" title="var">have</span> <span class="id" title="var">lx</span>:=<span class="id" title="var">leq_trans</span> <span class="id" title="var">f</span> <span class="id" title="var">ll</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ltnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">lx</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e'</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> <span class="id" title="var">ll</span> <span class="id" title="var">e</span> <span class="id" title="var">l0</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">p</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:=(<span class="id" title="var">lt_subK</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>:(<span class="id" title="var">m</span>.+2 - <span class="id" title="var">m</span>) = (<span class="id" title="var">m</span> - <span class="id" title="var">m</span>).+2. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">lt_subK</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">m</span>.+2) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="var">p</span>) <span class="id" title="var">x</span>). <span class="id" title="tactic">generalize</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subnn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">xx</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>). <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">p'</span> <span class="id" title="var">_</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:=(<span class="id" title="var">lt_subK</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">p</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">x</span>. <span class="id" title="var">have</span> <span class="id" title="var">x</span>:<span class="id" title="var">m</span>.+2 - <span class="id" title="var">n</span> = (<span class="id" title="var">m</span>-<span class="id" title="var">n</span>).+2. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSn</span> ; <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">comp_eq_compat</span> <span class="id" title="var">_</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">Injection_nm</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x'</span>:=<span class="id" title="var">sym_eq</span>(<span class="id" title="var">lt_subK</span> <span class="id" title="var">p'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> (<span class="id" title="var">sym_eq</span> (<span class="id" title="var">lt_subK</span> <span class="id" title="var">_</span>)) <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x1</span>:((<span class="id" title="var">m</span> - <span class="id" title="var">n</span>).+2 + <span class="id" title="var">n</span>)%<span class="id" title="var">N</span> = ((<span class="id" title="var">m</span> - <span class="id" title="var">n</span>) + <span class="id" title="var">n</span>).+2 <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">x2</span>:=<span class="id" title="var">sym_eq</span> (<span class="id" title="var">trans_eq</span> <span class="id" title="var">x</span> <span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tset_trans</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span>:=(<span class="id" title="var">Diter_coercion</span> <span class="id" title="var">x2</span> &lt;&lt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">S</span> (<span class="id" title="var">m</span> - <span class="id" title="var">n</span> + <span class="id" title="var">n</span>))) &lt;&lt; <span class="id" title="var">tmorphismsI</span> <span class="id" title="var">DTower</span> ((<span class="id" title="var">m</span> - <span class="id" title="var">n</span> + <span class="id" title="var">n</span>))) ; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">eq_irrelevance</span> <span class="id" title="var">x2</span> (<span class="id" title="var">sym_eq</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">x2</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">x'</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x'</span> <span class="id" title="var">x</span> <span class="id" title="var">x1</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Diter_coercion_simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">t_nm_EP</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> : (<span class="id" title="var">i</span> &lt;= <span class="id" title="var">n</span>)%<span class="id" title="var">N</span> -&gt; <span class="id" title="var">eppair</span> (<span class="id" title="var">t_nm</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>) (<span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">n</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> == <span class="id" title="var">n</span> - <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">e</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">e</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">ee</span>:<span class="id" title="var">i</span> = <span class="id" title="var">n</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">anti_leq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">leq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eqP</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ee</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">IH</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">case</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">sub0n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">ll</span>:(<span class="id" title="var">i</span> &lt;= <span class="id" title="var">n</span>)%<span class="id" title="var">N</span>. <span class="id" title="var">have</span> <span class="id" title="var">aa</span>:0 &lt; <span class="id" title="var">n</span>.+1 - <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eqP</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subn_gt0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">aa</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">subSn</span> <span class="id" title="var">ll</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">e</span> <span class="id" title="var">ll</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">t_nmProjection2</span> <span class="id" title="var">ll</span>). <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">t_nmEmbedding2</span> <span class="id" title="var">ll</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">tmorphismsI</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">proj1</span> <span class="id" title="var">IH</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">t_nmEmbedding2</span> <span class="id" title="var">ll</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">t_nmProjection2</span> <span class="id" title="var">ll</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>) (<span class="id" title="var">proj2</span> <span class="id" title="var">IH</span>)) (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj2</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">coneN</span> (<span class="id" title="var">n</span>:<span class="id" title="var">nat</span>) : <span class="id" title="var">Cone</span> <span class="id" title="var">DTower</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>) (<span class="id" title="var">t_nm</span> <span class="id" title="var">n</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span>  -&gt;(<span class="id" title="var">t_nmProjection</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">coneCom_l</span> (<span class="id" title="var">X</span>:<span class="id" title="var">Cone</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span> <span class="id" title="var">i</span> : (<span class="id" title="var">i</span> &lt;= <span class="id" title="var">n</span>)%<span class="id" title="var">nat</span> -&gt; <span class="id" title="var">mcone</span> <span class="id" title="var">X</span> <span class="id" title="var">i</span> =-= <span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> &lt;&lt; <span class="id" title="var">mcone</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">n</span> - <span class="id" title="var">i</span> = <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">auto</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">E</span>]. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span>. <span class="id" title="var">have</span> <span class="id" title="var">A</span>:=@<span class="id" title="var">anti_leq</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">leq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">andbT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">A</span> (<span class="id" title="var">eqtype.eq_refl</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">IH</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">t_nmProjection</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>) (<span class="id" title="var">tset_refl</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>.+1). <span class="id" title="var">have</span> <span class="id" title="var">l0</span>:<span class="id" title="var">i</span> &lt; <span class="id" title="var">n</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">subn_gt0</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>:<span class="id" title="var">n</span> - <span class="id" title="var">i</span>.+1 = <span class="id" title="var">x</span>. <span class="id" title="var">have</span> <span class="id" title="var">Y</span>:= <span class="id" title="var">subn_gt0</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">subnSK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">l0</span> <span class="id" title="var">ee</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">mconeCom</span> <span class="id" title="var">X</span> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">coconeCom_l</span> (<span class="id" title="var">X</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span> <span class="id" title="var">i</span> : (<span class="id" title="var">n</span> &lt;= <span class="id" title="var">i</span>)%<span class="id" title="var">nat</span> -&gt; <span class="id" title="var">mcocone</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> =-= <span class="id" title="var">mcocone</span> <span class="id" title="var">X</span> <span class="id" title="var">i</span> &lt;&lt; (<span class="id" title="var">t_nm</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">i</span> - <span class="id" title="var">n</span> = <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">auto</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">E</span>]. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span>. <span class="id" title="var">have</span> <span class="id" title="var">A</span>:=@<span class="id" title="var">anti_leq</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">leq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">A</span> <span class="id" title="var">is_true_true</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">IH</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nmEmbedding</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ll</span>:<span class="id" title="var">n</span> &lt; <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">subn_gt0</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>:<span class="id" title="var">i</span> - <span class="id" title="var">n</span>.+1 = <span class="id" title="var">x</span> <span class="id" title="tactic">by</span> <span class="id" title="var">have</span> <span class="id" title="var">Y</span>:= <span class="id" title="var">subn_gt0</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Y</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">subnSK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">E</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Y</span> ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">IH</span> <span class="id" title="var">ll</span> <span class="id" title="var">ee</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">tset_sym</span> (<span class="id" title="var">mcoconeCom</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">chainPEm</span> (<span class="id" title="var">C</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">C'</span>:<span class="id" title="var">Cone</span> <span class="id" title="var">DTower</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">monotonic</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; (<span class="id" title="var">mcocone</span> <span class="id" title="var">C</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">mcone</span> <span class="id" title="var">C'</span> <span class="id" title="var">n</span>) : <span class="id" title="var">cpoMorph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">C'</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">E</span>:<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">j</span> - <span class="id" title="var">i</span> = <span class="id" title="var">x</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="var">j</span> - <span class="id" title="var">i</span>).<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">E</span> <span class="id" title="var">l</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">l'</span>:(<span class="id" title="var">j</span> &lt;= <span class="id" title="var">i</span>)%<span class="id" title="var">N</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">leq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ee</span>: <span class="id" title="var">j</span> &lt;= <span class="id" title="var">i</span> &lt;= <span class="id" title="var">j</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">anti_leq</span> <span class="id" title="var">ee</span>).<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">IH</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">case</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">sub0n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> <span class="id" title="var">l</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">i</span>.+1 <span class="id" title="var">j</span>.+1). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subSS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">have</span> <span class="id" title="var">EE</span>:= <span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">mcoconeCom</span> <span class="id" title="var">C</span> <span class="id" title="var">i</span>) (<span class="id" title="var">mconeCom</span> <span class="id" title="var">C'</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EE</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">mcone</span> <span class="id" title="var">C'</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">EE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">ll</span>:= (<span class="id" title="var">proj2</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj2</span> <span class="id" title="var">EE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">comp_le_compat</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  -&gt; (<span class="id" title="var">comp_le_compat</span> <span class="id" title="var">ll</span> (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>. <span class="id" title="var">have</span> <span class="id" title="var">ll</span>:(<span class="id" title="var">i</span> &lt; <span class="id" title="var">j</span>.+1)%<span class="id" title="var">N</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">subn_gt0</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<span class="id" title="var">subSn</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">ll</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">have</span> <span class="id" title="var">ll</span>:(<span class="id" title="var">i</span> &lt; <span class="id" title="var">j</span>.+1)%<span class="id" title="var">N</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">subn_gt0</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ll</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">chainPE</span> (<span class="id" title="var">C</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">C'</span>:<span class="id" title="var">Cone</span> <span class="id" title="var">DTower</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> := <span class="id" title="var">mk_fmono</span> (@<span class="id" title="var">chainPEm</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Tower</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">Diter</span> (<span class="id" title="var">n</span>:<span class="id" title="var">nat</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">return</span> <span class="id" title="var">M</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">O</span> =&gt; <span class="id" title="var">One</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">ob</span> <span class="id" title="var">F</span> (<span class="id" title="var">Diter</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Diter</span> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">Injection</span> (<span class="id" title="var">n</span>:<span class="id" title="var">nat</span>) : (<span class="id" title="var">Diter</span> <span class="id" title="var">n</span>) =-&gt; (<span class="id" title="var">Diter</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>)) :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">O</span> =&gt; <span class="id" title="var">PBot</span><br/>
| <span class="id" title="var">S</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>, <span class="id" title="var">Injection</span> <span class="id" title="var">n</span>)<br/>
<span class="id" title="keyword">end</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Projection</span> (<span class="id" title="var">n</span>:<span class="id" title="var">nat</span>) : (<span class="id" title="var">Diter</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>)) =-&gt; (<span class="id" title="var">Diter</span> <span class="id" title="var">n</span>) :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">O</span> =&gt; <span class="id" title="var">terminal_morph</span> <span class="id" title="var">_</span> <br/>
| <span class="id" title="var">S</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Injection</span> <span class="id" title="var">n</span>,<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>)<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">comp_left_strict</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">M</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>),<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PBot</span>:<span class="id" title="var">Y</span> =-&gt; <span class="id" title="var">Z</span>) &lt;&lt; <span class="id" title="var">f</span> =-= (<span class="id" title="var">PBot</span>:<span class="id" title="var">X</span> =-&gt; <span class="id" title="var">Z</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eppair_IP</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <span class="id" title="var">eppair</span> (<span class="id" title="var">Injection</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>).<br/>
<span class="id" title="tactic">elim</span>.<br/>
- <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>:<span class="id" title="var">terminal_unique</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_left_strict</span> <span class="id" title="var">_</span> (<span class="id" title="var">terminal_morph</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">leastP</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Injection</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Injection</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">proj1</span> <span class="id" title="var">IH</span>) (<span class="id" title="var">proj1</span> <span class="id" title="var">IH</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_id</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">pair_le_compat</span> (<span class="id" title="var">proj2</span> <span class="id" title="var">IH</span>) (<span class="id" title="var">proj2</span> <span class="id" title="var">IH</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_id</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">DTower</span> := <span class="id" title="var">mk_tower</span> <span class="id" title="var">eppair_IP</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">DInf</span> : <span class="id" title="var">M</span> := <span class="id" title="var">tcone</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span> : (<span class="id" title="var">tobjects</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>) =-&gt; <span class="id" title="var">DInf</span> := <span class="id" title="var">limitExists</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">coneN</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Projections</span> <span class="id" title="var">n</span> : <span class="id" title="var">DInf</span> =-&gt; <span class="id" title="var">Diter</span> <span class="id" title="var">n</span> := <span class="id" title="var">mcone</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">coCom</span> <span class="id" title="var">i</span> : <span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>.+1 &lt;&lt; <span class="id" title="var">Injection</span> <span class="id" title="var">i</span> =-= <span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Embeddings</span>.<br/>
<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">limitUnique</span> (<span class="id" title="var">h</span>:=(<span class="id" title="var">Embeddings</span> (<span class="id" title="var">S</span> <span class="id" title="var">n</span>) &lt;&lt; <span class="id" title="var">Injection</span> <span class="id" title="var">_</span> :  (<span class="id" title="var">tcone</span> (<span class="id" title="var">coneN</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>)) =-&gt; <span class="id" title="var">DInf</span>))) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Embeddings</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:= (<span class="id" title="var">limitCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">coneN</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>.+1) <span class="id" title="var">m</span>).<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">t_nmEmbedding</span> <span class="id" title="var">DTower</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">DCoCone</span> : <span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span> := @<span class="id" title="var">mk_basecocone</span> <span class="id" title="var">_</span> <span class="id" title="var">DInf</span> <span class="id" title="var">Embeddings</span> <span class="id" title="var">coCom</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">retract_EP</span> <span class="id" title="var">n</span> : <span class="id" title="var">Projections</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span> =-= <span class="id" title="var">Id</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">eppair</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">Projections</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Embeddings</span>.<br/>
- <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">limitCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">coneN</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>) <span class="id" title="var">n</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">emp</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>, <span class="id" title="var">Projections</span> <span class="id" title="var">i</span> &lt;&lt; <span class="id" title="var">Embeddings</span> <span class="id" title="var">j</span> =-= <span class="id" title="var">t_nm</span> <span class="id" title="var">DTower</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="var">have</span> <span class="id" title="var">A</span>:= <span class="id" title="var">leq_total</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="var">case_eq</span> (<span class="id" title="var">i</span> &lt;= <span class="id" title="var">j</span>)%<span class="id" title="var">N</span> ; <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">X</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>.<br/>
- <span class="id" title="tactic">unfold</span> <span class="id" title="var">Projections</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">coneCom_l</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">X</span>) (<span class="id" title="var">tset_refl</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> <span class="id" title="var">_</span>) (<span class="id" title="var">retract_EP</span> <span class="id" title="var">j</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idR</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="var">have</span> <span class="id" title="var">e</span>:= (<span class="id" title="var">coconeCom_l</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">A</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">retract_EP</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">chainPEc</span> (<span class="id" title="var">C</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">natO</span> =-&gt; (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">DInf</span> <span class="id" title="var">C</span>) := <span class="id" title="var">chainPE</span> <span class="id" title="var">C</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lub_comp_left</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">X</span> =-&gt; <span class="id" title="var">Y</span>) <span class="id" title="var">Z</span> (<span class="id" title="var">c</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">lub</span> <span class="id" title="var">c</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;=-=<br/>
&nbsp;&nbsp;<span class="id" title="var">lub</span> ( (<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> &lt;&lt; &lt;|<span class="id" title="var">pi2</span>,<span class="id" title="var">pi1</span>|&gt;) <span class="id" title="var">f</span>:<span class="id" title="var">ordCatType</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">Z</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">ccomp_eq</span> (<span class="id" title="var">lub</span> <span class="id" title="var">c</span>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">lub_comp_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lub_comp_right</span> (<span class="id" title="var">Y</span> <span class="id" title="var">Z</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">Y</span> =-&gt; <span class="id" title="var">Z</span>) <span class="id" title="var">X</span> (<span class="id" title="var">c</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> &lt;&lt; <span class="id" title="var">lub</span> <span class="id" title="var">c</span> =-= <span class="id" title="var">lub</span> ( (<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>:<span class="id" title="var">ordCatType</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">c</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">Z</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">ccomp_eq</span> <span class="id" title="var">f</span> (<span class="id" title="var">lub</span> <span class="id" title="var">c</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">lub_comp_eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lub_comp_both</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>:<span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c'</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">lub</span> <span class="id" title="var">c'</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">lub</span> <span class="id" title="var">c</span> =-= <span class="id" title="var">lub</span> ((<span class="id" title="var">ccomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="var">ordCatType</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; &lt;|<span class="id" title="var">c'</span>, <span class="id" title="var">c</span>|&gt;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">lub_comp_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {3} /<span class="id" title="var">lub</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">prod_lub</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">prod_fun_fst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prod_fun_snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">EP_id</span> : (<span class="id" title="var">lub</span> (<span class="id" title="var">chainPEc</span> <span class="id" title="var">DCoCone</span>) : <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =-= <span class="id" title="var">Id</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">tset_sym</span> (@<span class="id" title="var">limitUnique</span> <span class="id" title="var">_</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">Id</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">tset_sym</span> (<span class="id" title="var">comp_idR</span> <span class="id" title="var">_</span>)))).<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="var">limitUnique</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_right</span>.<br/>
<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">lub_lift_left</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">apply</span>: <span class="id" title="var">Ole_antisym</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">le_lub</span> <span class="id" title="var">_</span> <span class="id" title="var">O</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">addn0</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">e</span>:= <span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">retract_EP</span> <span class="id" title="var">n</span>) (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">mcone</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>)).<br/>
<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Projections</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_le</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span>.<br/>
<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">emp</span> <span class="id" title="var">n</span> (<span class="id" title="var">n</span>+<span class="id" title="var">i</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">coneCom_l</span> <span class="id" title="var">_</span> (<span class="id" title="var">leq_addr</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">chainPE_simpl</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> : <span class="id" title="var">chainPEc</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> = <span class="id" title="var">mcocone</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">Projections</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">DCoLimit</span> : <span class="id" title="var">CoLimit</span> <span class="id" title="var">DTower</span>.<br/>
<span class="id" title="tactic">exists</span> <span class="id" title="var">DCoCone</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">C</span> =&gt; <span class="id" title="var">lub</span> (<span class="id" title="var">chainPEc</span> <span class="id" title="var">C</span>)).<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ole_antisym</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>: (<span class="id" title="var">Ole_trans</span> <span class="id" title="var">_</span> (<span class="id" title="var">le_lub</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">e</span>:= <span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">mcocone</span> <span class="id" title="var">C</span> <span class="id" title="var">n</span>)) (<span class="id" title="var">emp</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">lub_lift_left</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_le</span> =&gt; <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">e</span>:=<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> (<span class="id" title="var">mcocone</span> <span class="id" title="var">C</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>))) (<span class="id" title="var">emp</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>) <span class="id" title="var">n</span>). <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">coconeCom_l</span> <span class="id" title="var">C</span> (<span class="id" title="var">leq_addr</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_idR</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">EP_id</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tset_trans</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span>:=<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">h</span> (<span class="id" title="var">lub</span> (<span class="id" title="var">chainPEc</span> <span class="id" title="var">DCoCone</span>))) ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span>  <span class="id" title="tactic">apply</span>: (<span class="id" title="var">tset_sym</span> (<span class="id" title="var">ccomp_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (@<span class="id" title="var">lub_comp_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ( (<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">h</span>)) (<span class="id" title="var">chainPEc</span> <span class="id" title="var">DCoCone</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_eq_compat</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">fmon_eq_intro</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">X</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ECoCone</span> : <span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="var">ob</span> <span class="id" title="var">F</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Projections</span> <span class="id" title="var">i</span>, <span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>):<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">Injection</span> <span class="id" title="var">i</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Projections</span> <span class="id" title="var">i</span>.+1) (<span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>.+1) (<span class="id" title="var">Projection</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Injection</span> <span class="id" title="var">i</span>)).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">mconeCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">i</span>) (<span class="id" title="var">mcoconeCom</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">i</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">FCone</span> : <span class="id" title="var">Cone</span> <span class="id" title="var">DTower</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="var">ob</span> <span class="id" title="var">F</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">n</span> =&gt; <span class="id" title="var">Projection</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span>, <span class="id" title="var">Projections</span> <span class="id" title="var">n</span>)).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">Projections</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">coCom</span> <span class="id" title="var">i</span>) (<span class="id" title="var">mconeCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">i</span>)). <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="var">morph_comp</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">chainFPE</span> (<span class="id" title="var">C</span>:<span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>) := <span class="id" title="var">chainPE</span> <span class="id" title="var">C</span> <span class="id" title="var">FCone</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subS_leq</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span> <span class="id" title="var">m</span> : <span class="id" title="var">j</span>.+1 - <span class="id" title="var">i</span> == <span class="id" title="var">m</span>.+1 -&gt; <span class="id" title="var">i</span> &lt;= <span class="id" title="var">j</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> <span class="id" title="var">i</span> <span class="id" title="var">m</span> <span class="id" title="var">X</span>. <span class="id" title="var">have</span> <span class="id" title="var">a</span>:=<span class="id" title="var">subn_gt0</span> <span class="id" title="var">i</span> (<span class="id" title="var">j</span>.+1). <span class="id" title="var">have</span> <span class="id" title="var">x</span>:=<span class="id" title="var">ltn0Sn</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">eqP</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">a</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
updated for 8.4 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">morph_tnm</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">t_nm</span> <span class="id" title="var">DTower</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>, <span class="id" title="var">t_nm</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) =-= <span class="id" title="var">t_nm</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">m</span>.+1.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="var">have</span> <span class="id" title="var">t</span>:= (<span class="id" title="var">leq_total</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>). <span class="id" title="var">case_eq</span> (<span class="id" title="var">n</span> &lt;= <span class="id" title="var">m</span>)%<span class="id" title="var">N</span> ; <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">l</span> ; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>.<br/>
<span class="id" title="tactic">clear</span> <span class="id" title="var">t</span>. <span class="id" title="var">have</span> <span class="id" title="var">M'</span>:<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">m</span> - <span class="id" title="var">n</span> == <span class="id" title="var">x</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">destruct</span> <span class="id" title="var">M'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">M'</span>].<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">l</span> <span class="id" title="var">M'</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subn_eq0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">A</span>:= @<span class="id" title="var">anti_leq</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">A</span> <span class="id" title="var">is_true_true</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">j</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leqn0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">ee</span>:=<span class="id" title="var">eqP</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">O</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">O</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span>). <span class="id" title="var">have</span> <span class="id" title="var">l'</span>:=<span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">l0</span>:=<span class="id" title="var">subS_leq</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">subSn</span> <span class="id" title="var">l0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">l0</span> <span class="id" title="var">l</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">e</span>:= <span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">t_nmProjection2</span> <span class="id" title="var">DTower</span> <span class="id" title="var">l0</span>) (<span class="id" title="var">t_nmEmbedding2</span> <span class="id" title="var">DTower</span> <span class="id" title="var">l0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">morph_comp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">IH</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a</span>:= (<span class="id" title="var">tset_sym</span> (<span class="id" title="var">t_nmEmbedding2</span> <span class="id" title="var">DTower</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">i</span>.+1 <span class="id" title="var">j</span>.+1 <span class="id" title="var">l0</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">M'</span>:<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>, <span class="id" title="var">n</span> - <span class="id" title="var">m</span> == <span class="id" title="var">x</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">by</span> []. <span class="id" title="tactic">destruct</span> <span class="id" title="var">M'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">M'</span>].<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">M'</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">subn_eq0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">A</span>:= @<span class="id" title="var">anti_leq</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">A</span> <span class="id" title="var">is_true_true</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">j</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">m</span> <span class="id" title="var">IH</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">l</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leqn0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">ee</span>:=<span class="id" title="var">eqP</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ee</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">O</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">DTower</span> <span class="id" title="var">O</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">t_nn_ID</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">j</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>). <span class="id" title="var">have</span> <span class="id" title="var">l'</span>:=<span class="id" title="var">l</span>. <span class="id" title="var">have</span> <span class="id" title="var">l0</span>:=<span class="id" title="var">subS_leq</span> <span class="id" title="var">l'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">subSn</span> <span class="id" title="var">l0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">l0</span> <span class="id" title="var">l</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">e</span>:= <span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">t_nmEmbedding2</span> <span class="id" title="var">DTower</span> <span class="id" title="var">l0</span>) (<span class="id" title="var">t_nmProjection2</span> <span class="id" title="var">DTower</span> <span class="id" title="var">l0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">morph_comp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="var">have</span> <span class="id" title="var">a</span>:= (<span class="id" title="var">tset_sym</span> (<span class="id" title="var">t_nmProjection2</span> <span class="id" title="var">DTower</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">j</span>.+1 <span class="id" title="var">i</span>.+1 <span class="id" title="var">l0</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ECoLCom</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> : <span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">mcocone</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> =-= (<span class="id" title="var">lub</span> (<span class="id" title="var">chainFPE</span> <span class="id" title="var">A</span>):<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">mcocone</span> <span class="id" title="var">ECoCone</span> <span class="id" title="var">n</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ole_antisym</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">le_lub</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Projections</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Projections</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">lub_lift_left</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_le</span> =&gt; <span class="id" title="var">k</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Embeddings</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>)) (<span class="id" title="var">Projections</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>)) (<span class="id" title="var">Projections</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span>  (<span class="id" title="var">emp</span> <span class="id" title="var">n</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>)) (<span class="id" title="var">emp</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>) <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_tnm</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">t_nmEmbedding</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>).+1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">t_nmProjection</span> <span class="id" title="var">DTower</span> <span class="id" title="var">n</span> (<span class="id" title="var">n</span>+<span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">coconeCom_l</span> <span class="id" title="var">C</span> (<span class="id" title="var">leq_addr</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">D_scope</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">C_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pair_lub</span> (<span class="id" title="var">D</span> <span class="id" title="var">E</span>:<span class="id" title="var">cpoType</span>) (<span class="id" title="var">c</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">D</span>) (<span class="id" title="var">c'</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">E</span>) : @<span class="id" title="var">tset_eq</span> (<span class="id" title="var">CPO.setoidType</span> <span class="id" title="var">_</span>) (<span class="id" title="var">lub</span> <span class="id" title="var">c</span>,<span class="id" title="var">lub</span> <span class="id" title="var">c'</span>) (<span class="id" title="var">lub</span> (&lt;|<span class="id" title="var">c</span>,<span class="id" title="var">c'</span>|&gt;)).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">D</span> <span class="id" title="var">E</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>. <span class="id" title="tactic">rewrite</span> {3} /<span class="id" title="var">lub</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">prod_lub</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">simpl</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">lub_le_compat</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span> ; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prod_fun_fst</span>) ; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">prod_fun_snd</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">CoLimitUnique</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> : <span class="id" title="var">CoCone</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">h</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span>, <span class="id" title="var">mcocone</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span> =-= <span class="id" title="var">h</span> &lt;&lt; <span class="id" title="var">mcocone</span> <span class="id" title="var">ECoCone</span> <span class="id" title="var">n</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">h</span> =-= <span class="id" title="var">lub</span> (<span class="id" title="var">chainFPE</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_idR</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a</span>:= <span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> <span class="id" title="var">EP_id</span> <span class="id" title="var">EP_id</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">a</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">b</span>:= (<span class="id" title="var">pair_lub</span> (<span class="id" title="var">chainPEc</span> <span class="id" title="var">DCoCone</span>) (<span class="id" title="var">chainPEc</span> <span class="id" title="var">DCoCone</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">S</span>:= (<span class="id" title="var">fmon_stable</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">b</span>). <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">Oeq_trans</span> <span class="id" title="var">S</span> (<span class="id" title="var">lub_comp_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">b</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_right</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">lub_lift_left</span> (<span class="id" title="var">chainFPE</span> <span class="id" title="var">C</span>) 1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_eq_compat</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">fmon_eq_intro</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">ccomp_eq</span> <span class="id" title="var">h</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">mcone</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span> &lt;&lt; <span class="id" title="var">mcone</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">X</span> <span class="id" title="var">n</span>.+1). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">X</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Projections</span> <span class="id" title="var">n</span>.+1) (<span class="id" title="var">Embeddings</span> <span class="id" title="var">n</span>.+1) (<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Injection</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Injection</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>) (<span class="id" title="var">Embeddings</span> (1 + <span class="id" title="var">n</span>)) (<span class="id" title="var">Projections</span> (1 + <span class="id" title="var">n</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">mconeCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>) (<span class="id" title="var">mcoconeCom</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">mcoconeCom</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">n</span>) (<span class="id" title="var">mconeCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">mcone</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>) (<span class="id" title="var">mcocone</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">n</span>) (<span class="id" title="var">mcocone</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">n</span>) (<span class="id" title="var">mcone</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ECoLimit</span> : <span class="id" title="var">CoLimit</span> <span class="id" title="var">DTower</span>.<br/>
<span class="id" title="tactic">exists</span> <span class="id" title="var">ECoCone</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">C</span> =&gt; <span class="id" title="var">lub</span> (<span class="id" title="var">chainFPE</span> <span class="id" title="var">C</span>)).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">ECoLCom</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">CoLimitUnique</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Fold</span> : (<span class="id" title="var">ob</span> <span class="id" title="var">F</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) =-&gt; <span class="id" title="var">DInf</span> :=   <span class="id" title="var">colimitExists</span> <span class="id" title="var">ECoLimit</span> <span class="id" title="var">DCoCone</span>. <span class="id" title="keyword">Definition</span> <span class="id" title="keyword">Unfold</span> : <span class="id" title="var">DInf</span> =-&gt; (<span class="id" title="var">ob</span> <span class="id" title="var">F</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) :=  <span class="id" title="var">colimitExists</span> <span class="id" title="var">DCoLimit</span> <span class="id" title="var">ECoCone</span>. 
<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">FU_id</span> : <span class="id" title="var">Fold</span> &lt;&lt; <span class="id" title="keyword">Unfold</span> =-= <span class="id" title="var">Id</span>. <span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">tset_trans</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span>:=<span class="id" title="var">colimitExists</span> <span class="id" title="var">DCoLimit</span> <span class="id" title="var">DCoLimit</span>).<br/>
- <span class="id" title="tactic">refine</span> (@<span class="id" title="var">colimitUnique</span> <span class="id" title="var">_</span> <span class="id" title="var">DCoLimit</span> <span class="id" title="var">DCoLimit</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Fold</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">Unfold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_both</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ole_antisym</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span>: (<span class="id" title="var">Ole_trans</span> <span class="id" title="var">_</span> (<span class="id" title="var">le_lub</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> :<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Projections</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Projections</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) (<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">Injection</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">i</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">emp</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">lub_lift_left</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_le</span> =&gt; <span class="id" title="var">k</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Embeddings</span> (<span class="id" title="var">i</span> + <span class="id" title="var">k</span>)) (<span class="id" title="var">Projections</span> (<span class="id" title="var">i</span> + <span class="id" title="var">k</span>)) (<span class="id" title="var">Projections</span> (<span class="id" title="var">i</span> + <span class="id" title="var">k</span>)) (<span class="id" title="var">Embeddings</span> (<span class="id" title="var">i</span> + <span class="id" title="var">k</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) (<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">Injection</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>))). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">emp</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>) (<span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">tset_sym</span> (@<span class="id" title="var">coconeCom_l</span> <span class="id" title="var">DTower</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">leq_addr</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span>))).<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">tset_sym</span>. <span class="id" title="tactic">apply</span>: (@<span class="id" title="var">colimitUnique</span> <span class="id" title="var">_</span> <span class="id" title="var">DCoLimit</span> <span class="id" title="var">DCoLimit</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">UF_id</span> : <span class="id" title="keyword">Unfold</span> &lt;&lt; <span class="id" title="var">Fold</span> =-= <span class="id" title="var">Id</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">tset_trans</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span>:=<span class="id" title="var">colimitExists</span> <span class="id" title="var">ECoLimit</span> <span class="id" title="var">ECoLimit</span>).<br/>
- <span class="id" title="tactic">apply</span> (@<span class="id" title="var">colimitUnique</span> <span class="id" title="var">_</span> <span class="id" title="var">ECoLimit</span> <span class="id" title="var">ECoLimit</span>). <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Fold</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">Unfold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_both</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ole_antisym</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span>: (<span class="id" title="var">Ole_trans</span> <span class="id" title="var">_</span> (<span class="id" title="var">le_lub</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">emp</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Projections</span> <span class="id" title="var">i</span>)(<span class="id" title="var">Projections</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) (<span class="id" title="var">tset_trans</span> (<span class="id" title="var">emp</span> <span class="id" title="var">i</span> <span class="id" title="var">i</span>) (<span class="id" title="var">t_nn_ID</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">Injection</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">proj1</span> (<span class="id" title="var">teppair</span> <span class="id" title="var">DTower</span> <span class="id" title="var">i</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">lub_lift_left</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_le</span> =&gt; <span class="id" title="var">k</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">Embeddings</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">emp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Embeddings</span> (<span class="id" title="var">i</span> + <span class="id" title="var">k</span>)) (<span class="id" title="var">Projections</span> (<span class="id" title="var">i</span> + <span class="id" title="var">k</span>)) (<span class="id" title="var">Projections</span> <span class="id" title="var">i</span>) (<span class="id" title="var">Embeddings</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">emp</span> <span class="id" title="var">i</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>)) (<span class="id" title="var">emp</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>) <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_tnm</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">t_nmEmbedding</span> <span class="id" title="var">DTower</span> <span class="id" title="var">i</span> (<span class="id" title="var">i</span> + <span class="id" title="var">k</span>).+1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">t_nmProjection</span> <span class="id" title="var">DTower</span> <span class="id" title="var">i</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>)). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">t_nmEmbedding2</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">leq_addr</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nmEmbedding</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">morph_tnm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_comp</span> <span class="id" title="var">F</span> (<span class="id" title="var">Projections</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>)) (<span class="id" title="var">Embeddings</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>)) (<span class="id" title="var">t_nm</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>) <span class="id" title="var">i</span>) (<span class="id" title="var">t_nm</span> <span class="id" title="var">DTower</span> <span class="id" title="var">i</span> (<span class="id" title="var">i</span>+<span class="id" title="var">k</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (@<span class="id" title="var">coneCom_l</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">leq_addr</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span>)) (@<span class="id" title="var">coconeCom_l</span> <span class="id" title="var">DTower</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">leq_addr</span> <span class="id" title="var">k</span> <span class="id" title="var">i</span>))).<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">tset_sym</span>. <span class="id" title="tactic">apply</span> (@<span class="id" title="var">colimitUnique</span> <span class="id" title="var">_</span> <span class="id" title="var">ECoLimit</span> <span class="id" title="var">ECoLimit</span>). <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="var">Parametric</span> <span class="id" title="var">Morphism</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> : (@<span class="id" title="var">morph</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="var">signature</span> (@<span class="id" title="var">Ole</span> ((<span class="id" title="var">cpoMorph</span> <span class="id" title="var">Y</span> <span class="id" title="var">X</span>) * (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span>))) ==&gt; (@<span class="id" title="var">Ole</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">morph_le_compat</span>.<br/>
<span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">y</span> <span class="id" title="var">y'</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">fmonotonic</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">delta_mon</span> : <span class="id" title="var">monotonic</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> =&gt; <span class="id" title="var">Fold</span> &lt;&lt; <span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">e</span>,<span class="id" title="var">e</span>) &lt;&lt; <span class="id" title="keyword">Unfold</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>) (<span class="id" title="var">morph_le_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">pair_le_compat</span> <span class="id" title="var">X</span> <span class="id" title="var">X</span>))) (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">deltat</span> : <span class="id" title="var">ordCatType</span> (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mk_fmono</span> <span class="id" title="var">delta_mon</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">comp_lub_eq</span> (<span class="id" title="var">D0</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> :<span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">D1</span> =-&gt; <span class="id" title="var">D2</span>) (<span class="id" title="var">c</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">D0</span> <span class="id" title="var">D1</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> &lt;&lt; <span class="id" title="var">lub</span> <span class="id" title="var">c</span> =-= <span class="id" title="var">lub</span> ((<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">D0</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span>) <span class="id" title="var">f</span> : <span class="id" title="var">ordCatType</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">c</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">D0</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">f</span> <span class="id" title="var">c</span>. <span class="id" title="var">have</span> <span class="id" title="var">a</span>:=@<span class="id" title="var">lub_comp_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ( (<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)).<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">D0</span> <span class="id" title="var">c</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">a</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lub_comp</span> (<span class="id" title="var">D0</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> : <span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">D0</span> =-&gt; <span class="id" title="var">D1</span>) (<span class="id" title="var">c</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span>) :<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lub</span> <span class="id" title="var">c</span> : <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">f</span> =-= <span class="id" title="var">lub</span> ((<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">D0</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> &lt;&lt; &lt;|<span class="id" title="var">pi2</span>,<span class="id" title="var">pi1</span>|&gt;) <span class="id" title="var">f</span> : <span class="id" title="var">ordCatType</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) &lt;&lt; <span class="id" title="var">c</span>).<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">D0</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">f</span> <span class="id" title="var">c</span>. <span class="id" title="var">have</span> <span class="id" title="var">a</span>:=@<span class="id" title="var">lub_comp_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ( (<span class="id" title="var">exp_fun</span> (<span class="id" title="var">ccomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> &lt;&lt; &lt;|<span class="id" title="var">pi2</span>,<span class="id" title="var">pi1</span>|&gt;) <span class="id" title="var">f</span>)).<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">D2</span> <span class="id" title="var">c</span>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">delta_cont</span> : <span class="id" title="var">continuous</span> <span class="id" title="var">deltat</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">c</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">have</span> <span class="id" title="var">S</span>:=<span class="id" title="var">fmon_stable</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">specialize</span> (<span class="id" title="var">S</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pair_lub</span> <span class="id" title="var">c</span> <span class="id" title="var">c</span>)).<br/>
<span class="id" title="tactic">rewrite</span> -&gt; (@<span class="id" title="var">lub_comp_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ( (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) (&lt;|<span class="id" title="var">c</span>:<span class="id" title="var">natO</span> =-&gt; <span class="id" title="var">cpoMorph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>,<span class="id" title="var">c</span>|&gt;)) <span class="id" title="tactic">in</span> <span class="id" title="var">S</span>.<br/>
<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">S</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_lub_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lub_comp</span>.<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_le_compat</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">ccomp_eq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="keyword">delta</span> : (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) =-&gt; (<span class="id" title="var">cpoMorph</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mk_fcont</span> <span class="id" title="var">delta_cont</span>.<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">delta_simpl</span> <span class="id" title="var">e</span> : <span class="id" title="keyword">delta</span> <span class="id" title="var">e</span> = <span class="id" title="var">Fold</span> &lt;&lt; <span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">e</span>,<span class="id" title="var">e</span>) &lt;&lt; <span class="id" title="keyword">Unfold</span>.<br/>
<span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="keyword">Qed</span>. 
<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">PredomFix</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">retract</span> (<span class="id" title="var">C</span>:<span class="id" title="var">catType</span>) (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span>: <span class="id" title="var">A</span> =-&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> =-&gt; <span class="id" title="var">A</span>) := <span class="id" title="var">f</span> &lt;&lt; <span class="id" title="var">g</span> =-= <span class="id" title="var">Id</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">retract_eq</span> (<span class="id" title="var">C</span>:<span class="id" title="var">catType</span>) (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">X</span> =-&gt; <span class="id" title="var">Y</span>) <span class="id" title="var">g</span> <span class="id" title="var">h</span> (<span class="id" title="var">k</span>:<span class="id" title="var">Z</span> =-&gt; <span class="id" title="var">X</span>) : <span class="id" title="var">retract</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">h</span> =-= <span class="id" title="var">f</span> &lt;&lt; <span class="id" title="var">k</span> -&gt; <span class="id" title="var">g</span> &lt;&lt; <span class="id" title="var">h</span> =-= <span class="id" title="var">k</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">R</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">B</span>:=<span class="id" title="var">comp_eq_compat</span> (<span class="id" title="var">tset_refl</span> <span class="id" title="var">g</span>) <span class="id" title="var">A</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">R</span> <span class="id" title="tactic">in</span> <span class="id" title="var">B</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">comp_idL</span> <span class="id" title="tactic">in</span> <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">delta_iter_id</span> <span class="id" title="var">k</span> : <span class="id" title="var">iter</span> <span class="id" title="keyword">delta</span> <span class="id" title="var">k</span> &lt;= (@<span class="id" title="var">Category.id</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span>:<span class="id" title="var">cpoMorph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">elim</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">leastP</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">Ole_refl</span> (<span class="id" title="var">Fold</span>:<span class="id" title="var">cpoMorph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">morph_le_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">pair_le_compat</span> <span class="id" title="var">IH</span> <span class="id" title="var">IH</span>))) (<span class="id" title="var">Ole_refl</span> (<span class="id" title="keyword">Unfold</span>:<span class="id" title="var">cpoMorph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
<span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">FU_id</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">delta_id_id</span> : <span class="id" title="keyword">delta</span> (@<span class="id" title="var">Category.id</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span>:<span class="id" title="var">cpoMorph</span> <span class="id" title="var">DInf</span> <span class="id" title="var">DInf</span>) =-= @<span class="id" title="var">Category.id</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">delta_simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">FU_id</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">id_min</span> : (<span class="id" title="var">FIXP</span> <span class="id" title="keyword">delta</span> : <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =-= <span class="id" title="var">Id</span>.<br/>
<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EP_id</span>.<br/>
<span class="id" title="tactic">apply</span>: (<span class="id" title="var">tset_trans</span> (@<span class="id" title="var">limitUnique</span> <span class="id" title="var">DTower</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fixp</span>. <span class="id" title="tactic">rewrite</span> -&gt; <span class="id" title="var">lub_comp_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Ole_antisym</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">le_lub</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Oeq_le</span>. <span class="id" title="var">have</span> <span class="id" title="var">a</span>:= <span class="id" title="var">terminal_unique</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">a</span> <span class="id" title="var">M</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="keyword">Unfold</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">Fold</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">Ole_refl</span> (<span class="id" title="var">Projections</span> <span class="id" title="var">n</span>.+1:<span class="id" title="var">cpoMorph</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">le_lub</span> (<span class="id" title="var">chainFPE</span> <span class="id" title="var">DCoCone</span>) <span class="id" title="var">n</span>.+1) (<span class="id" title="var">Ole_refl</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iter_</span> <span class="id" title="keyword">delta</span> <span class="id" title="var">n</span>, <span class="id" title="var">iter_</span> <span class="id" title="keyword">delta</span> <span class="id" title="var">n</span>)))) (<span class="id" title="var">le_lub</span> (<span class="id" title="var">chainPEc</span> <span class="id" title="var">ECoCone</span>) <span class="id" title="var">n</span>.+1))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_assoc</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">emp</span> <span class="id" title="var">n</span>.+1 <span class="id" title="var">n</span>.+1). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_comp</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">mcoconeCom</span> (<span class="id" title="var">DCoCone</span>) <span class="id" title="var">n</span>) (<span class="id" title="var">mconeCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_comp</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">comp_assoc</span> (<span class="id" title="var">morph</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Projection</span> <span class="id" title="var">n</span>, <span class="id" title="var">Injection</span> <span class="id" title="var">n</span>):<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_comp</span>. <span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">morph_eq_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">mconeCom</span> (<span class="id" title="var">L</span> <span class="id" title="var">DTower</span>) <span class="id" title="var">n</span>) (<span class="id" title="var">mcoconeCom</span> <span class="id" title="var">DCoCone</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">a</span>:= (<span class="id" title="var">Ole_trans</span> <span class="id" title="var">_</span> (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">morph_le_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">pair_le_compat</span> ((<span class="id" title="var">Oeq_le</span> (<span class="id" title="var">tset_sym</span> (<span class="id" title="var">comp_assoc</span> <span class="id" title="var">_</span> (<span class="id" title="var">iter_</span> <span class="id" title="keyword">delta</span> <span class="id" title="var">n</span>:<span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)))) (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>))) (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>))). <span class="id" title="tactic">apply</span>: <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">aa</span>:= (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">morph_le_compat</span> <span class="id" title="var">F</span> (<span class="id" title="var">pair_le_compat</span> (<span class="id" title="var">comp_le_compat</span> <span class="id" title="var">IH</span> (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>)) (<span class="id" title="var">comp_le_compat</span> <span class="id" title="var">IH</span> (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>)))) (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">aa</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">aa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">emp</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t_nn_ID</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">morph_id</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idL</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>: <span class="id" title="var">lub_le</span> =&gt; <span class="id" title="var">k</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ccomp_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -&gt; (<span class="id" title="var">comp_le_compat</span> (<span class="id" title="var">Ole_refl</span> <span class="id" title="var">_</span>) (<span class="id" title="var">delta_iter_id</span> <span class="id" title="var">k</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">tset_sym</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">limitUnique</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EP_id</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">comp_idR</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">RecursiveDomains</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Msolution</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>